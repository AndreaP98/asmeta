--file examples\agentsChoose4.smv
MODULE main
	VAR
		chosenId: 1..3; --monitored
		foo_AGENT1: boolean; --controlled
		foo_AGENT2: boolean; --controlled
		foo_AGENT3: boolean; --controlled
		--declaration of choose variables
		var_$a_0: {AGENT1, AGENT2, AGENT3};
	DEFINE
	CONSTANTS AGENT1, AGENT2, AGENT3, SUBAGENT_UNDEF, AGENT1, AGENT2, AGENT3;
	ASSIGN
		init(foo_AGENT1) := TRUE;
		init(foo_AGENT2) := TRUE;
		init(foo_AGENT3) := TRUE;
		next(foo_AGENT1) :=
			case
				((var_$a_0 = AGENT1) & (1 < chosenId)): !(foo_AGENT1);
				TRUE: foo_AGENT1;
			esac;
		next(foo_AGENT2) :=
			case
				((2 < chosenId) & (var_$a_0 = AGENT2)): !(foo_AGENT2);
				TRUE: foo_AGENT2;
			esac;
		next(foo_AGENT3) :=
			case
				((3 < chosenId) & (var_$a_0 = AGENT3)): !(foo_AGENT3);
				TRUE: foo_AGENT3;
			esac;
	INVAR	((!(1 < chosenId) & !(2 < chosenId) & !(3 < chosenId)) | ((3 < chosenId) & (var_$a_0 = AGENT3)) | ((2 < chosenId) & (var_$a_0 = AGENT2)) | ((var_$a_0 = AGENT1) & (1 < chosenId)));
--CTL properties
CTLSPEC NAME ctl0 := AG(foo_AGENT3);
CTLSPEC NAME ctl1 := AX(!((chosenId = 2) & EG((chosenId = 2))));
CTLSPEC NAME ctl2 := EF(((foo_AGENT3 & (foo_AGENT1 & foo_AGENT2)) & EG((foo_AGENT3 & (foo_AGENT1 & foo_AGENT2)))));
