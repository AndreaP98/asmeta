--file C:\Users\Silvia\Documents\Sourceforge\ASMETA\code\experimental\asmetal2cpp\asmetal2cpp_boostunit\..\asmetal2cpp_codegen\examples\coffeeVendingMachineNC.smv
MODULE main
	VAR
		available_COFFEE: {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}; --controlled
		available_MILK: {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}; --controlled
		available_TEA: {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}; --controlled
		chosenProduct: {COFFEE, MILK, TEA}; --monitored
		coins: {-2147483647, 0, 1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 2, 20, 21, 22, 23, 24, 25, 3, 4, 5, 6, 7, 8, 9}; --controlled
		insertedCoin: {HALF, ONE}; --monitored
	CONSTANTS COINTYPE_UNDEF, HALF, ONE, PRODUCT_UNDEF, COFFEE, MILK, TEA;
	ASSIGN
		init(available_COFFEE) := 10;
		init(available_MILK) := 10;
		init(available_TEA) := 10;
		init(coins) := 0;
		next(available_COFFEE) :=
			case
				((chosenProduct != MILK) & !(insertedCoin = HALF) & (coins < 25) & ((available_COFFEE > 0) & (chosenProduct = COFFEE)) & !((chosenProduct = TEA) & (available_TEA > 0))) & (available_COFFEE - 1) in {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}: (available_COFFEE - 1);
				TRUE: available_COFFEE;
			esac;
		next(available_MILK) :=
			case
				((available_MILK > 0) & (coins < 25) & (insertedCoin = HALF)) & (available_MILK - 1) in {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}: (available_MILK - 1);
				TRUE: available_MILK;
			esac;
		next(available_TEA) :=
			case
				((chosenProduct != MILK) & ((chosenProduct = TEA) & (available_TEA > 0)) & !(insertedCoin = HALF) & (coins < 25)) & (available_TEA - 1) in {-2147483647, 0, 1, 10, 2, 3, 4, 5, 6, 7, 8, 9}: (available_TEA - 1);
				TRUE: available_TEA;
			esac;
		next(coins) :=
			case
				(((chosenProduct != MILK) & !(insertedCoin = HALF) & (coins < 25) & ((available_COFFEE > 0) & (chosenProduct = COFFEE)) & !((chosenProduct = TEA) & (available_TEA > 0))) | (((chosenProduct != MILK) & ((chosenProduct = TEA) & (available_TEA > 0)) & !(insertedCoin = HALF) & (coins < 25)) | ((available_MILK > 0) & (coins < 25) & (insertedCoin = HALF)))) & (coins + 1) in {-2147483647, 0, 1, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 2, 20, 21, 22, 23, 24, 25, 3, 4, 5, 6, 7, 8, 9}: (coins + 1);
				TRUE: coins;
			esac;
--CTL properties
CTLSPEC NAME ctl0 := AG(!(coins >= 25));
